{% extends "base.html" %}

{% block content %}

<head>    
    <meta charset="utf-8">    
    <title>Bootstrap</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<table width="97%" style="margin-top: 60px;margin-left: 30px;margin-right: 30px;">
    <tr>
        <td><b>Price:</b></td>
        <td><input type="radio" name="price" value="very_low">Below 500k</td>
        <td><input type="radio" name="price" value="low">500k-1m</td>
        <td><input type="radio" name="price" value="medium">1m-2m</td>
        <td><input type="radio" name="price" value="high">2m-5m</td>
        <td><input type="radio" name="price" value="very_high">Over 5m</td>
    </tr>
    <tr>
        <td><b>Average price:</b></td>
        <td><input type="radio" name="average_price" value="very low">Below 5k</td>
        <td><input type="radio" name="average_price" value="low">5k-10k</td>
        <td><input type="radio" name="average_price" value="medium">10k-20k</td>
        <td><input type="radio" name="average_price" value="high">20k-50k</td>
        <td><input type="radio" name="average_price" value="very high">Over 50k</td>
    </tr>
    <tr>
        <td><b>Square:</b></td>
        <td><input type="radio" name="square" value="very small">Below 50m<sup>2</sup></td>
        <td><input type="radio" name="square" value="small">50m<sup>2</sup>-100m<sup>2</sup></td>
        <td><input type="radio" name="square" value="middle">100m<sup>2</sup>-200m<sup>2</sup></td>
        <td><input type="radio" name="square" value="big">200m<sup>2</sup>-500m<sup>2</sup></td>
        <td><input type="radio" name="square" value="very big">Over 500m<sup>2</sup></td>
    </tr>
    <tr>
        <td><b>Bedrooms:</b></td>
        <td><input type="radio" name="bedrooms" value="one">1</td>
        <td><input type="radio" name="bedrooms" value="two">2</td>
        <td><input type="radio" name="bedrooms" value="three">3</td>
        <td><input type="radio" name="bedrooms" value="four">4</td>
        <td><input type="radio" name="bedrooms" value="more">Over 4</td>
    </tr>
    <tr>
        <td><b>Floor:</b></td>
        <td><input type="radio" name="floor" value="low level">1st-3rd</td>
        <td><input type="radio" name="floor" value="middle level">4th-10th</td>
        <td><input type="radio" name="floor" value="high level">Over 11th</td>
    </tr>
    <tr>
        <td><b>Type:</b></td>
        <td><input type="radio" name="type" value="tower">tower</td>
        <td><input type="radio" name="type" value="bungalow">bungalow</td>
        <td><input type="radio" name="type" value="plate and tower">plate and tower</td>
        <td><input type="radio" name="type" value="plate">plate</td>
    </tr>
    <tr>
        <td><b>Renovation:</b></td>
        <td><input type="radio" name="renovation" value="rough">rough</td>
        <td><input type="radio" name="renovation" value="simplicity">simplicity</td>
        <td><input type="radio" name="renovation" value="hardcover">hardcover</td>
        <td><input type="radio" name="renovation" value="other">other</td>
    </tr>
    <tr>
        <td><b>Elevator:</b></td>
        <td><input type="radio" name="elevator" value="have">have</td>
        <td><input type="radio" name="elevator" value="not have">not have</td>
    </tr>
    <tr>
        <td colspan="5" align="right">
            <button onclick="check()" type="button" class="btn btn-defult">Check</button>
        </td>
        <td align="center"> <button onclick="deleteAll()" type="button" class="btn btn-defult">Delete all</button>
        </td>
    </tr>
</table>
<div style="margin: 0 30px 10px 30px;">
    <hr>
    <h2><b>Find x suitable houses for you ^_^</b></h2>
    <hr>

</div>


<div>
  {% for house in houses %}
    <ul>
      <li><a href="{{ url_for('details',house_id=house.id) }}">{{ house.id }}</a></li>
    </ul>
  {% endfor %}
</div>


{% for row in data %}

<div style="margin-left: 30px; margin-right: 30px;">
    <table width="100%">
        <tr>
            <td rowspan="3" width="250px">
                <a href="" id="image"><img src="{{ url_for('static', filename='img/house.jpg') }}" alt="house"
                        width="200px" height="150px" onclick="details()" class="img-rounded" /></a>
            </td>
            {% if row[16]=='1' %}
            <td style="font-size: 35px; vertical-align: top;"><strong>Tower</strong></td>
            {% elif row[16]=='2' %}
            <td style="font-size: 35px; vertical-align: top;"><strong>Bungalow</strong></td>
            {% elif row[16]=='3' %}
            <td style="font-size: 35px; vertical-align: top;"><strong>Plate & Tower</strong></td>
            {% elif row[16]=='4' %}
            <td style="font-size: 35px; vertical-align: top;"><strong>Plate</strong></td>
            {% elif row[16]=='nan' %}
            <td style="font-size: 35px; vertical-align: top;"><strong>Unknown</strong></td>
            {% endif %}
            <td rowspan="3" align="center" style="font-size: 25px;"><strong style="color: red;">
                    ¥{{ row[8] }}0000</strong><br><br>
                <p style="color:grey;font-size: 13px; vertical-align: top;">¥{{ row[9] }}/sq metres</p>
            </td>
        </tr>
        <tr>
            <td style="font-size: 20px;">Address:{{ row[2] }} ---- {{ row[3] }}</td>
        </tr>
        <tr>
            <td>Square:{{ row[10] }}m<sup>2</sup></td>
        </tr>
    </table>
    <hr>
</div>
{% endfor %}
<!-- <div id="page1" style="display:none;">这是第1页的内容</div>
<div id="page2" style="display:inline;">这是第2页的内容</div>
<div id="page3" style="display:none;">这是第3页的内容</div>
<div id="page4" style="display:none;">这是第4页的内容</div>
<div id="page5" style="display:none;">这是第5页的内容</div> -->
<div align="center" style="margin-bottom: 30px;">
    <ul class="pagination">
        <li><a href="#">&laquo;</a></li>
        <li><a href="#" onclick="showpage(1)">1</a></li>
        <li><a href="#" onclick="showpage(2)">2</a></li>
        <li><a href="#" onclick="showpage(3)">3</a></li>
        <li><a href="#" onclick="showpage(4)">4</a></li>
        <li><a href="#" onclick="showpage(5)">5</a></li>
        <li><a href="#">&raquo;</a></li>
    </ul>
</div>
<script>
    var input = document.querySelectorAll('input')
    var img = document.getElementById('image')
    function deleteAll() {
        for (var i = 0; i < input.length; i++) {
            if (input[i].checked == true) {
                input[i].checked = false;
            }
        }
    }
    function check() {
        for (var i = 0; i < radio_1.length; i++) {
            if (radio_1[i].checked) {
                price = radio_1[i].value
            }
        }
        if (price == "low") {

        }

    }
    function showpage(page) {
        for (var i = 1; i < 6; i++) {
            if (page == i) {
                document.getElementById("page" + page).style.display = "block";
                console.log(page);
            } else {
                document.getElementById("page" + page).style.display = "none";
                console.log(page + "HHHHH");
            }
        }
    }
    function details() {
        img.href = "{{ url_for('details') }}";
    }
    function load(name) {
        let xhr = new XMLHttpRequest(),
            okStatus = document.location.protocol === "file:" ? 0 : 200;
        xhr.open('GET', name, false);
        xhr.overrideMimeType("text/html;charset=utf-8");//默认为utf-8
        xhr.send(null);
        return xhr.status === okStatus ? xhr.responseText : null;
    }

    let text = load("aa.csv");

    console.log(text);
</script>
{% include 'footer.html' %}
{% endblock %}
