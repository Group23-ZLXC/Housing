{% extends "base.html" %}

{% block content %}

<head>    
  <meta charset="utf-8">    
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">  
  <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<table class="table table-condensed" style="margin-top: 70px; margin-left: 50px;margin-right: 50px; width: 90%;">
  <tr>
    <td rowspan="7" width="50%">
      <div id="myCarousel" class="carousel slide">
        <!-- 轮播（Carousel）指标 -->
        <ol class="carousel-indicators">
          <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
          <li data-target="#myCarousel" data-slide-to="1"></li>
          <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>
        <!-- 轮播（Carousel）项目 -->
        <div class="carousel-inner">
          <div class="item active">
            <img src="{{ url_for('static', filename='img/house1.jpg') }}" alt="house1" width="100%" class="img-rounded">
          </div>
          <div class="item">
            <img src="{{ url_for('static', filename='img/house2.jpg') }}" alt="house2" width="100%" class="img-rounded">
          </div>
          <div class="item">
            <img src="{{ url_for('static', filename='img/house3.jpg') }}" alt="house3" width="100%" class="img-rounded">
          </div>
        </div>
        <!-- 轮播（Carousel）导航 -->
        <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </td>
    <td colspan="2" style="vertical-align: top; padding-left: 20px; height: 30%;">
      {% if house.total_price %}
        <h2 style="color: red;"><strong>{{ house.total_price }}</strong></h2>
      {% else %}
        <h2 style="color: red;"><strong>Pending</strong></h2>
      {% endif %}
      {% if house.total_price %}
        <p style="color: darkgray; font-size: 15px;">{{ house.total_price / house.square }}</p>
      {% else %}
        <p style="color: darkgray; font-size: 15px;">Pending</p>
      {% endif %}
    </td>
  </tr>

  <tr>
    <td style="padding-left: 20px;vertical-align: middle;">Building Type:</td>
    {% if house.building_type == 1 %}
      <td width="20%" style="vertical-align: middle;"><b>Tower</b></td>
    {% elif house.building_type == 2 %}
      <td width="20%" style="vertical-align: middle;"><b>Bungalow</b></td>
    {% elif house.building_type == 3 %}
      <td width="20%" style="vertical-align: middle;"><b>Combination of plate and tower</b></td>
    {% elif house.building_type == 4 %}
      <td width="20%" style="vertical-align: middle;"><b>Plate</b></td>
    {% endif %}
  </tr>

  <tr class="active">
    <td style="padding-left: 20px;vertical-align: middle;">Square:</td>
    <td width="20%" style="vertical-align: middle;"><b>{{ house.square }} sq metres</b></td>
  </tr>
  <tr>
    <td style="padding-left: 20px;vertical-align: middle;">Floor:</td>
    <td width="20%" style="vertical-align: middle;"><b>{{ house.floor }}</b></td>
  </tr>

  <tr class="active">
    <td style="padding-left: 20px;vertical-align: middle;">Renovation Type:</td>
    {% if house.renovation_con == 1 %}
      <td width="20%" style="vertical-align: middle;"><b>Other</b></td>
    {% elif house.renovation_con == 2 %}
      <td width="20%" style="vertical-align: middle;"><b>Rough</b></td>
    {% elif house.renovation_con == 3 %}
      <td width="20%" style="vertical-align: middle;"><b>Simplicity</b></td>
    {% elif house.renovation_con == 4 %}
      <td width="20%" style="vertical-align: middle;"><b>Hardcover</b></td>
    {% endif %}
  </tr>

  <tr class="active">
    <td style="padding-left: 20px;vertical-align: middle;">District:</td>
    {% if house.district == 1 %}
      <td width="20%" style="vertical-align: middle;"><b>DongCheng</b></td>
    {% elif house.district == 2 %}
      <td width="20%" style="vertical-align: middle;"><b>FengTai</b></td>
    {% elif house.district == 3 %}
      <td width="20%" style="vertical-align: middle;"><b>TongZhou</b></td>
    {% elif house.district == 4 %}
      <td width="20%" style="vertical-align: middle;"><b>DaXing</b></td>
    {% elif house.district == 5 %}
      <td width="20%" style="vertical-align: middle;"><b>FangShan</b></td>
    {% elif house.district == 6 %}
      <td width="20%" style="vertical-align: middle;"><b>ChangPing</b></td>
    {% elif house.district == 7 %}
      <td width="20%" style="vertical-align: middle;"><b>ChaoYang</b></td>
    {% elif house.district == 8 %}
      <td width="20%" style="vertical-align: middle;"><b>HaiDian</b></td>
    {% elif house.district == 9 %}
      <td width="20%" style="vertical-align: middle;"><b>XiCheng</b></td>
    {% elif house.district == 10 %}
      <td width="20%" style="vertical-align: middle;"><b>ShiJingShan</b></td>
    {% elif house.district == 11 %}
      <td width="20%" style="vertical-align: middle;"><b>PingGu</b></td>
    {% elif house.district == 12 %}
      <td width="20%" style="vertical-align: middle;"><b>MenTouGou</b></td>
    {% elif house.district == 13 %}
      <td width="20%" style="vertical-align: middle;"><b>ShunYi</b></td>
    {% endif %}
  </tr>

</table>
<div style="margin: 30px 70px 30px 50px;">
  <div class="panel-group" id="accordion">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#details">
            <b style="font-size:3rem;">Details</b>
          </a>
        </h4>
      </div>
      <div id="details" class="panel-collapse collapse in">
        <div class="panel-body">
          <table class="table">
            <tr>
              <td style="padding-left: 20px;vertical-align: middle;">Total Price:</td>
              {% if house.total_price %}
                <td width="20%" style="vertical-align: middle;"><b>{{ house.total_price }}</b></td>
              {% else %}
                <td width="20%" style="vertical-align: middle;"><b>Pending</b></td>
              {% endif %}
              <td rowspan="12" width="50%" align="center" style="border: 0rem;vertical-align: middle;"><img src="{{ url_for('static', filename='img/house_inside.png') }}"
                  alt="house_inside" width="80%"></td>
            </tr>
            <tr class="active">
              <td style="padding-left: 20px;vertical-align: middle;">Price:</td>
              {% if house.total_price %}
                <td width="20%" style="vertical-align: middle;"><b>{{ house.total_price / house.square }}</b></td>
              {% else %}
                <td width="20%" style="vertical-align: middle;"><b>Pending</b></td>
              {% endif %}
            </tr>
            <tr>
              <td style="padding-left: 20px;vertical-align: middle;">Square:</td>
              <td width="20%" style="vertical-align: middle;"><b>{{ house.square }}</b></td>
            </tr>
            <tr class="active">
              <td style="padding-left: 20px;vertical-align: middle;">Livingroom:</td>
              <td width="20%" style="vertical-align: middle;"><b>{{ house.living_room }}</b></td>
            </tr>
            <tr>
              <td style="padding-left: 20px;vertical-align: middle;">Drawingroom:</td>
              <td width="20%" style="vertical-align: middle;"><b>{{ house.drawing_room }}</b></td>
            </tr>
            <tr class="active">
              <td style="padding-left: 20px;vertical-align: middle;">Kitchen:</td>
              <td width="20%" style="vertical-align: middle;"><b>{{ house.kitchen }}</b></td>
            </tr>
            <tr>
              <td style="padding-left: 20px;vertical-align: middle;">Bathroom:</td>
              <td width="20%" style="vertical-align: middle;"><b>{{ house.bathroom }}</b></td>
            </tr>
            <tr class="active">
              <td style="padding-left: 20px;vertical-align: middle;">Floor:</td>
              <td width="20%" style="vertical-align: middle;"><b>{{ house.floor }}</b></td>
            </tr>
            <tr>
              <td style="padding-left: 20px;vertical-align: middle;">Elevator: </td>
              {% if house.elevator == 1 %}
                <td width="20%" style="vertical-align: middle;"><b>Available</b></td>
              {% elif house.elevator == 2 %}
                <td width="20%" style="vertical-align: middle;"><b>Not Available</b></td>
              {% endif %}
            </tr>
            <tr>
              <td style="padding-left: 20px;vertical-align: middle;">Subway: </td>
              {% if house.elevator == 1 %}
                <td width="20%" style="vertical-align: middle;"><b>Available</b></td>
              {% elif house.elevator == 2 %}
                <td width="20%" style="vertical-align: middle;"><b>Not Available</b></td>
              {% endif %}
            </tr>

            <tr>
              <td style="padding-left: 20px;vertical-align: middle;">Building Type:</td>
              {% if house.building_type == 1 %}
                <td width="20%" style="vertical-align: middle;"><b>Tower</b></td>
              {% elif house.building_type == 2 %}
                <td width="20%" style="vertical-align: middle;"><b>Bungalow</b></td>
              {% elif house.building_type == 3 %}
                <td width="20%" style="vertical-align: middle;"><b>Combination of plate and tower</b></td>
              {% elif house.building_type == 4 %}
                <td width="20%" style="vertical-align: middle;"><b>Plate</b></td>
              {% endif %}
            </tr>

            <tr>
              <td style="padding-left: 20px;vertical-align: middle;">Renovation Type:</td>
              {% if house.renovation_con == 1 %}
                <td width="20%" style="vertical-align: middle;"><b>Other</b></td>
              {% elif house.renovation_con == 2 %}
                <td width="20%" style="vertical-align: middle;"><b>Rough</b></td>
              {% elif house.renovation_con == 3 %}
                <td width="20%" style="vertical-align: middle;"><b>Simplicity</b></td>
              {% elif house.renovation_con == 4 %}
                <td width="20%" style="vertical-align: middle;"><b>Hardcover</b></td>
              {% endif %}
            </tr>

          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="panel-group" id="accordion">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#recommendation">
            <b style="font-size:3rem;">Recommendation</b>
          </a>
        </h4>
      </div>
      <div id="recommendation" class="panel-collapse collapse in">
        <div class="panel-body">
          <ul>
            <li><b>Housing features:</b> good location, low total price, convenient transportation around. This house is wider than the
              same area of the house, the sense of space is more open, living feeling more comfortable.</li>
            <li><b>Community environment:</b> the community is well closed, green rate is high, there is a square for everyone to
              leisure and entertainment. There are supermarkets, laundries, nail salons and beauty salons around the community.
              Surrounding shopping malls and hospitals, convenient travel.</li>
          </ul>
        </div>
        <hr>
        <div id="contact">
          <h1>Contact Me</h1>
          <ul>
            <li>Owner: <b>{{ owner.username }}</b></li>
            <li>Email: <b>{{ owner.email }}</b></li>
          </ul>
      </div>
      <hr>
    </div>
  </div>
  <div class="panel-group" id="accordion">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#comments">
            <b style="font-size:3rem;">Comments</b>
          </a>
        </h4>
      </div>
      <div id="comments" class="panel-collapse collapse in">
        <div class="panel-body">
          <ul>
            <li>UserA <br>
              It's a very nice apartment. When could I go and see it in person?
            </li>
            <li>UserB <br>
              Could you please upload more pictures?
            </li>
            <li>UserC <br>
              How is the sound insulation of this house?
            </li>
          </ul>
          <div class="panel-body">
            {% if user %}
            <form action="" method="post" novalidate>
              {{ form.hidden_tag() }}
              <p>
                {{ form.comment.label }}<br>
                {{ form.comment(rows=8, cols=80, class="form-control") }}

                {% for error in form.comment.errors %}
                <span style="color: red;">[{{ error }}]</span>
                {% endfor %}
              </p>
              <p align="right">{{ form.submit(class="btn btn-defult") }}</p>
            {% else %}
              <p style="color: red; "><b>You have to log in to comment</b></p><br>
              <p><span>Already have an account?</span>
                <a href="{{ url_for('login') }}"><span class="glyphicon glyphicon-user"></span> Log in</a>
              </p><br>
              <p><span>Create an account? </span>
                <a href="{{ url_for('signup') }}"><span class="glyphicon glyphicon-user"></span> Register</a>
              </p>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
